# שלב 1: בחירת אימג' בסיס
# אנו משתמשים באימג' רשמי של פייתון בגרסה 3.9, בגרסת "alpine" שהיא קטנה וקלה.
FROM python:3.9-alpine

# שלב 2: הגדרת סביבת העבודה
# מגדיר את תיקיית העבודה בתוך הקונטיינר. כל הפקודות הבאות ירוצו מתיקייה זו.
WORKDIR /app

# שלב 3: העתקת קבצים
# מעתיק את קובץ הדרישות (שבמקרה שלנו לא קיים, אבל זה best practice)
# אנו נעתיק רק את הקובץ הספציפי של האפליקציה שלנו.
COPY app.py .

# שלב 4: התקנת תלויות (Dependencies)
# אנו צריכים להתקין את ספריית Flask ואת flask-cors.
RUN pip install flask flask-cors

# שלב 5: חשיפת פורט
# מודיע (כתיעוד) שהאפליקציה שלנו מאזינה על פורט 5000.
EXPOSE 5000

# שלב 6: פקודת ההרצה
# הפקודה שתרוץ כשהקונטיינר יעלה. מריצה את שרת הפלאסק.
CMD ["python", "app.py"]
